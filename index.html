<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Tailor Your Updates — Preferences</title>

<style>
/* ---------- Variables & General Styles ---------- */
:root {
  --max-width: 760px;
  --accent: #0A64A4;
  --muted: #6b7280;
  --bg: #f7f8fb;
  --card: #ffffff;
  --radius: 10px;
  --transition: 220ms cubic-bezier(.2,.9,.2,1);
  --form-height: auto;
}

html, body {
  height: 100%;
}
body {
  margin: 0;
  font-family: Inter, system-ui, -apple-system, Segoe UI, Roboto, "Helvetica Neue", Arial;
  background: linear-gradient(180deg, #f4f6fa, var(--bg));
  color: #111827;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  padding: 28px;
  display: flex;
  align-items: flex-start;
  justify-content: center;
}

.container {
  width: 100%;
  max-width: var(--max-width);
}

.card {
  background: var(--card);
  border-radius: var(--radius);
  padding: 22px;
  box-shadow: 0 8px 30px rgba(16,24,40,0.06);
  height: var(--form-height);
  transition: height 0.4s ease-in-out;
}

h1 {
  margin: 0 0 6px 0;
  font-size: 20px;
  letter-spacing: -0.2px;
}
p.lead {
  margin: 0 0 18px 0;
  color: var(--muted);
  font-size: 14px;
}

/* ---------- Progress Bar ---------- */
.progress-container {
  padding: 18px 0;
}
.progress-bar {
  width: 100%;
  height: 6px;
  background: #eef2f6;
  border-radius: 3px;
  overflow: hidden;
}
.progress-fill {
  height: 100%;
  background: var(--accent);
  transition: width 0.4s ease;
}

/* ---------- Multi-step form styles ---------- */
#step-container {
  position: relative;
  overflow: hidden;
  height: auto;
}

.step {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  padding-right: 22px;
  transition: transform 0.4s ease-in-out, opacity 0.4s ease-in-out;
  transform: translateX(100%);
  opacity: 0;
}

.step.active {
  position: relative;
  transform: translateX(0);
  opacity: 1;
}

.step.prev {
  transform: translateX(-100%);
}

.step.next {
  transform: translateX(100%);
}

.step.active.fade-in {
  transform: translateX(0);
  opacity: 1;
}
.step.fade-out {
  opacity: 0;
}

/* ---------- Question group ---------- */
.group {
  border-top: 1px solid #eef2f6;
  padding: 18px 0;
}
.group:first-of-type {
  border-top: 0;
  padding-top: 6px;
}
.q {
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 12px;
}
.q h2 {
  margin: 0;
  font-size: 15px;
}
.optional {
  color: var(--muted);
  font-size: 13px;
}

/* ---------- Checkbox grid ---------- */
.options {
  margin-top: 12px;
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(170px, 1fr));
  gap: 10px;
}

/* Custom checkbox look */
.opt {
  display: flex;
  align-items: center;
  gap: 10px;
  padding: 10px;
  border-radius: 8px;
  cursor: pointer;
  user-select: none;
  transition: transform var(--transition), box-shadow var(--transition), background var(--transition);
  border: 1px solid #eef2f6;
  background: #fff;
  box-shadow: 0 0 0 rgba(0,0,0,0);
}
.opt input {
  position: absolute;
  clip: rect(0 0 0 0);
  height: 1px;
  width: 1px;
  margin: -1px;
  padding: 0;
  border: 0;
  overflow: hidden;
}
.opt .label {
  font-size: 14px;
  color: #111827;
}
.opt .muted {
  font-size: 12px;
  color: var(--muted);
}

/* selected state */
.opt.selected {
  transform: translateY(-3px) scale(1.01);
  box-shadow: 0 6px 18px rgba(10,100,164,0.14);
  border-color: rgba(10,100,164,0.14);
  background: linear-gradient(180deg, rgba(10,100,164,0.03), #fff);
}

/* ---------- Conditional panels (expand/collapse) ---------- */
.panel {
  overflow: hidden;
  transition: max-height var(--transition), opacity var(--transition), transform var(--transition);
  max-height: 0;
  opacity: 0;
  transform: translateY(-6px);
}
.panel.open {
  max-height: 1000px;
  opacity: 1;
  transform: translateY(0);
}

/* ---------- Small controls ---------- */
.row {
  display: flex;
  gap: 12px;
  flex-wrap: wrap;
  margin-top: 10px;
}
.small {
  padding: 8px 12px;
  border-radius: 8px;
  border: 1px solid #e6eef8;
  background: #fff;
  font-size: 13px;
}

/* ---------- Footer / submit ---------- */
.actions {
  display: flex;
  justify-content: flex-end;
  align-items: center;
  margin-top: 18px;
  gap: 12px;
}

.actions.full-width {
    justify-content: space-between;
}

.btn {
  padding: 10px 14px;
  border-radius: 8px;
  border: 0;
  background: var(--accent);
  color: #fff;
  font-weight: 600;
  cursor: pointer;
  transition: transform var(--transition);
}
.btn:active {
  transform: translateY(1px)
}
.btn.ghost {
  background: transparent;
  color: var(--accent);
  border: 1px solid rgba(10,100,164,0.12);
}

/* ---------- Thank you / confirmation ---------- */
.thanks {
  padding: 18px;
  border-radius: 8px;
  background: #f1fbff;
  border: 1px solid rgba(10,100,164,0.06);
  color: #05263b;
  margin-top: 12px;
  display: none;
}
.thanks.show {
  display: block;
}

/* ---------- Small responsive tweaks ---------- */
@media (max-width: 520px) {
  .options {
    grid-template-columns: repeat(2, 1fr);
  }
}

/* ---------- Micro interaction: focus visible ---------- */
.opt:focus-within {
  outline: 3px solid rgba(10,100,164,0.08);
}
</style>
</head>
<body>
<div class="container">
  <form id="prefsForm" class="card" method="POST" novalidate action="">
    <div class="progress-container">
      <div class="progress-bar">
        <div class="progress-fill" style="width: 0%;"></div>
      </div>
    </div>
    
    <h1 id="form-heading">Tailor your updates</h1>
    <p class="lead" id="form-subheading">Tick only what is relevant. Optional fields help us keep messages short and useful.</p>

    <div id="step-container">
      <section class="group step active" aria-labelledby="q1">
        <div class="q">
          <h2 id="q1">What do you want updates on?</h2>
          <div class="optional">Optional — tick all that apply</div>
        </div>
        <div class="options" role="group" aria-label="Topics">
          <label class="opt" tabindex="0">
            <input type="checkbox" name="topics" value="Servers" data-target="panel-servers" />
            <div>
              <div class="label">Servers</div>
              <div class="muted">ProLiant, PowerEdge, ThinkSystem</div>
            </div>
          </label>
          <label class="opt" tabindex="0">
            <input type="checkbox" name="topics" value="Storage" data-target="panel-storage" />
            <div>
              <div class="label">Storage</div>
              <div class="muted">SAN, DAS, 3PAR, Compellent</div>
            </div>
          </label>
          <label class="opt" tabindex="0">
            <input type="checkbox" name="topics" value="Networking" data-target="panel-networking" />
            <div>
              <div class="label">Networking</div>
              <div class="muted">Switches, Routers, Firewalls</div>
            </div>
          </label>
          <label class="opt" tabindex="0">
            <input type="checkbox" name="topics" value="Components" data-target="panel-components" />
            <div>
              <div class="label">Components</div>
              <div class="muted">RAM, CPUs, Drives, RAID</div>
            </div>
          </label>
          <label class="opt" tabindex="0">
            <input type="checkbox" name="topics" value="Devices" data-target="panel-devices" />
            <div>
              <div class="label">Systems & Devices</div>
              <div class="muted">Workstations, Laptops, GPUs</div>
            </div>
          </label>
        </div>
      </section>

      <section class="group step" aria-hidden="true">
        <div class="q"><h2>Applications you need to run</h2><div class="optional">Optional</div></div>
        <div class="options" role="group" aria-label="Applications" style="margin-top:10px">
          <label class="opt" tabindex="0"><input type="checkbox" name="apps" value="Virtualisation" /><div><div class="label">Virtualisation (VMware / Hyper-V)</div></div></label>
          <label class="opt" tabindex="0"><input type="checkbox" name="apps" value="Databases" /><div><div class="label">Databases (SQL, Oracle)</div></div></label>
          <label class="opt" tabindex="0"><input type="checkbox" name="apps" value="Backup/DR" /><div><div class="label">Backup / DR</div></div></label>
          <label class="opt" tabindex="0"><input type="checkbox" name="apps" value="HPC" /><div><div class="label">High-performance computing</div></div></label>
          <label class="opt" tabindex="0"><input type="checkbox" name="apps" value="File/Print" /><div><div class="label">File / Print</div></div></label>
          <label class="opt" tabindex="0"><input type="checkbox" name="apps" value="Other apps" /><div><div class="label">Other</div></div></label>
        </div>
      </section>

      <section class="group step" aria-hidden="true">
        <div class="q"><h2>Type of updates</h2><div class="optional">Optional</div></div>
        <div class="options" role="group" aria-label="Update types" style="margin-top:10px">
          <label class="opt" tabindex="0"><input type="checkbox" name="upd" value="New Products" /><div><div class="label">New Products</div></div></label>
          <label class="opt" tabindex="0"><input type="checkbox" name="upd" value="Price Changes" /><div><div class="label">Price Changes</div></div></label>
          <label class="opt" tabindex="0"><input type="checkbox" name="upd" value="Reviews & Tests" /><div><div class="label">Product tests & reviews</div></div></label>
          <label class="opt" tabindex="0"><input type="checkbox" name="upd" value="Guides" /><div><div class="label">Guides / How-tos</div></div></label>
          <label class="opt" tabindex="0"><input type="checkbox" name="upd" value="Configurations" /><div><div class="label">Configurations</div></div></label>
        </div>
      </section>

      <section class="group step" aria-hidden="true">
        <div class="q"><h2>Planning info <span class="optional"> (optional)</span></h2><div class="optional">Only used to send timely offers</div></div>
        <div style="margin-top:10px">
          <div class="muted" style="font-size:13px;margin-bottom:8px">Next planned purchase</div>
          <div class="row" role="group" aria-label="Next planned purchase">
            <label class="opt small"><input type="radio" name="purchase_when" value="Under 3 months" /><div><div class="label">Within 3 months</div></div></label>
            <label class="opt small"><input type="radio" name="purchase_when" value="3-6 months" /><div><div class="label">3–6 months</div></div></label>
            <label class="opt small"><input type="radio" name="purchase_when" value="6+ months" /><div><div class="label">6+ months</div></div></label>
            <label class="opt small"><input type="radio" name="purchase_when" value="Just browsing" /><div><div class="label">Just browsing</div></div></label>
          </div>
          <div class="muted" style="font-size:13px;margin:14px 0 8px 0">Typical budget</div>
          <div class="row" role="group" aria-label="Budget range">
            <label class="opt small"><input type="radio" name="budget" value="Under £5k" /><div><div class="label">Under £5k</div></div></label>
            <label class="opt small"><input type="radio" name="budget" value="£5k-£20k" /><div><div class="label">£5k–£20k</div></div></label>
            <label class="opt small"><input type="radio" name="budget" value="£20k+" /><div><div class="label">£20k+</div></div></label>
            <label class="opt small"><input type="radio" name="budget" value="Not sure" /><div><div class="label">Not sure</div></div></label>
          </div>
        </div>
      </section>

      <section class="group step" aria-hidden="true">
        <div class="q">
          <h2>Email address</h2>
          <div class="optional">Required</div>
        </div>
        <input type="email" name="EMAIL" id="email" required placeholder="name@company.com" style="width: 100%; box-sizing: border-box; padding: 10px; font-size: 16px; border-radius: 8px; border: 1px solid #ccc; margin-top: 10px;" />
      </section>

    </div>

    <div class="actions full-width">
      <button type="button" class="btn ghost" id="backBtn" style="display: none;">Back</button>
      <button type="button" class="btn" id="nextBtn">Next</button>
      <button type="submit" class="btn" id="submitBtn" style="display: none;">Save preferences</button>
    </div>

    <div class="thanks" id="thankYou" role="status" aria-live="polite">
      Thanks — your preferences have been recorded.
